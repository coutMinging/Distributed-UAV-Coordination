<?xml version='1.0' encoding='UTF-8'?>
<scenario name="/home/ncs/repos/uas-networking/swarm-target-grpc-non-itar/uav8-notrack-old-gui.xml">
  <networks>
    <network id="21" name="wlan21" type="WIRELESS_LAN">
      <position x="368" y="28" lat="47.57891218891243" lon="-122.12736329963165" alt="2.0"/>
    </network>
  </networks>
  <devices>
    <device id="1" name="n1" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="55" y="29" lat="47.57890309920786" lon="-122.1315808898906" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="2" name="n2" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="58" y="98" lat="47.57827590578077" lon="-122.13154046570281" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="3" name="n3" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="52" y="162" lat="47.577694154436486" lon="-122.13162131407839" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="4" name="n4" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="53" y="215" lat="47.577212386711686" lon="-122.13160783934913" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="6" name="n6" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="167" y="34" lat="47.57885765066128" lon="-122.13007172021328" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="7" name="n7" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="166" y="94" lat="47.57831226502517" lon="-122.13008519494255" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="8" name="n8" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="165" y="156" lat="47.5777486938996" lon="-122.13009866967181" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="9" name="n9" icon="/data/uas-core/icons/uav/grey_plane.png" type="PC" class="" image="">
      <position x="166" y="217" lat="47.57719420671076" lon="-122.13008519494255" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="11" name="n11" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1348" y="35" lat="47.57884856094723" lon="-122.1141580649551" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="12" name="n12" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1356" y="206" lat="47.577294196637794" lon="-122.11405026712102" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="13" name="n13" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1369" y="364" lat="47.57585795935954" lon="-122.1138750956406" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="14" name="n14" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1382" y="534" lat="47.57431259677209" lon="-122.1136999241602" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="16" name="n16" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1446" y="35" lat="47.57884856094723" lon="-122.11283754148747" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="17" name="n17" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1452" y="201" lat="47.5773396465415" lon="-122.11275669311186" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="18" name="n18" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1464" y="360" lat="47.57589432028301" lon="-122.11259499636073" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
    <device id="19" name="n19" icon="/data/uas-core/icons/uav/grey_dot.png" type="PC" class="" image="">
      <position x="1477" y="534" lat="47.57431259677209" lon="-122.11241982488033" alt="2.0"/>
      <services>
        <service name="DefaultRoute"/>
      </services>
    </device>
  </devices>
  <links>
    <link node1="21" node2="1">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:00" ip4="10.0.0.1" ip4_mask="24" ip6="2001::20" ip6_mask="128"/>
    </link>
    <link node1="21" node2="2">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:01" ip4="10.0.0.2" ip4_mask="24" ip6="2001::21" ip6_mask="128"/>
    </link>
    <link node1="21" node2="3">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:02" ip4="10.0.0.3" ip4_mask="24" ip6="2001::22" ip6_mask="128"/>
    </link>
    <link node1="21" node2="4">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:03" ip4="10.0.0.4" ip4_mask="24" ip6="2001::23" ip6_mask="128"/>
    </link>
    <link node1="21" node2="6">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:04" ip4="10.0.0.6" ip4_mask="24" ip6="2001::25" ip6_mask="128"/>
    </link>
    <link node1="21" node2="7">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:05" ip4="10.0.0.7" ip4_mask="24" ip6="2001::26" ip6_mask="128"/>
    </link>
    <link node1="21" node2="8">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:06" ip4="10.0.0.8" ip4_mask="24" ip6="2001::27" ip6_mask="128"/>
    </link>
    <link node1="21" node2="9">
      <iface2 id="0" name="eth0" mac="00:00:00:aa:00:07" ip4="10.0.0.9" ip4_mask="24" ip6="2001::28" ip6_mask="128"/>
    </link>
  </links>
  <mobility_configurations>
    <mobility_configuration node="21" model="basic_range">
      <configuration name="range" value="1100"/>
      <configuration name="bandwidth" value="54000000"/>
      <configuration name="jitter" value="0"/>
      <configuration name="delay" value="200000"/>
      <configuration name="error" value="20"/>
    </mobility_configuration>
  </mobility_configurations>
  <emane_global_configuration>
    <emulator/>
    <core>
      <configuration name="platform_id_start" value="1"/>
      <configuration name="nem_id_start" value="1"/>
      <configuration name="link_enabled" value="1"/>
      <configuration name="loss_threshold" value="30"/>
      <configuration name="link_interval" value="1"/>
      <configuration name="link_timeout" value="4"/>
    </core>
  </emane_global_configuration>
  <session_origin lat="47.5791667" lon="-122.132322" alt="2.0" scale="150.0"/>
  <session_hooks>
    <hook name="runtime_hook.sh" state="4">#!/bin/sh
# session hook script; write commands here to execute on the host at the
# specified state

# Set initial waypoints
echo 100 150 &gt; /tmp/n1_orig_wypt.txt
echo 100 300 &gt; /tmp/n2_orig_wypt.txt
echo 100 450 &gt; /tmp/n3_orig_wypt.txt
echo 100 600 &gt; /tmp/n4_orig_wypt.txt
echo 400 150 &gt; /tmp/n6_orig_wypt.txt
echo 400 300 &gt; /tmp/n7_orig_wypt.txt
echo 400 450 &gt; /tmp/n8_orig_wypt.txt
echo 400 600 &gt; /tmp/n9_orig_wypt.txt

# Set multicast routes
vcmd -c /tmp/pycore.*/n1 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n2 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n3 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n4 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n6 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n7 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n8 -- /sbin/ip route add 224.0.0.0/4 dev eth0
vcmd -c /tmp/pycore.*/n9 -- /sbin/ip route add 224.0.0.0/4 dev eth0

sleep 5

# Start mobility scripts
vcmd -c /tmp/pycore.*/n1 -- core-python -u /data/uas-core/move_node_grpc.py 1 67 36 70 40 200 &gt; /tmp/move_n1.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n2 -- core-python -u /data/uas-core/move_node_grpc.py 2 67 85 70 40 200 &gt; /tmp/move_n2.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n3 -- core-python -u /data/uas-core/move_node_grpc.py 3 67 139 70 40 200 &gt; /tmp/move_n3.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n4 -- core-python -u /data/uas-core/move_node_grpc.py 4 67 186 70 40 200 &gt; /tmp/move_n4.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n6 -- core-python -u /data/uas-core/move_node_grpc.py 6 167 36 70 40 200 &gt; /tmp/move_n6.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n7 -- core-python -u /data/uas-core/move_node_grpc.py 7 167 85 70 40 200 &gt; /tmp/move_n7.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n8 -- core-python -u /data/uas-core/move_node_grpc.py 8 167 139 70 40 200 &gt; /tmp/move_n8.log 2&gt;&amp;1 &amp;
vcmd -c /tmp/pycore.*/n9 -- core-python -u /data/uas-core/move_node_grpc.py 9 167 186 70 40 200 &gt; /tmp/move_n9.log 2&gt;&amp;1 &amp;
</hook>
  </session_hooks>
  <session_options>
    <configuration name="controlnet" value="172.16.0.0/24"/>
    <configuration name="controlnet0" value=""/>
    <configuration name="controlnet1" value=""/>
    <configuration name="controlnet2" value=""/>
    <configuration name="controlnet3" value=""/>
    <configuration name="controlnet_updown_script" value=""/>
    <configuration name="enablerj45" value="1"/>
    <configuration name="preservedir" value="0"/>
    <configuration name="enablesdt" value="0"/>
    <configuration name="sdturl" value="tcp://127.0.0.1:50000/"/>
    <configuration name="ovs" value="0"/>
  </session_options>
  <session_metadata>
    <configuration name="canvas c1" value="{name {Canvas1}} {wallpaper-style {centered}} {wallpaper {/data/uas-core/icons/uav/stl_map.jpg}} {refpt {0 0 47.5791667 -122.132322 2.0}} {scale {150.0}} {size {1500 900}}"/>
    <configuration name="global_options" value="interface_names=no ip_addresses=yes ipv6_addresses=no node_labels=yes link_labels=no show_api=no background_images=no annotations=yes grid=no traffic_start=0 mac_address_start=80"/>
  </session_metadata>
  <default_services>
    <node type="mdr">
      <service name="zebra"/>
      <service name="OSPFv3MDR"/>
      <service name="IPForward"/>
    </node>
    <node type="PC">
      <service name="DefaultRoute"/>
    </node>
    <node type="prouter"/>
    <node type="router">
      <service name="zebra"/>
      <service name="OSPFv2"/>
      <service name="OSPFv3"/>
      <service name="IPForward"/>
    </node>
    <node type="host">
      <service name="DefaultRoute"/>
      <service name="SSH"/>
    </node>
  </default_services>
</scenario>
